local library = {}

local function AddCorner(Parent, Radius1, Radius2)
    local UICorner = Instance.new("UICorner")
    Radius1 = Radius1 or 0
    Radius2 = Radius2 or 10

    UICorner.Name = Parent.Name .. " Corner"
    UICorner.CornerRadius = UDim.new(Radius1, Radius2)
    UICorner.Parent = Parent
end

function library:CreateMain(key)
    local Gui = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local TopTitle = Instance.new("TextLabel")
    local TabFrame = Instance.new("ScrollingFrame")
    local UIListLayout = Instance.new("UIListLayout")
    local CoreGui = game:GetService("CoreGui")
    local UserInputService = game:GetService("UserInputService")
    local bn = {}
    local keybinds = {}
    keybinds[0] = {}
    keybinds[0]["pressable"] = false
    local TabCount = 0.02
    local FirstTab = true
    local TableTab = {}
    
    Gui.Name = "Symphony Hub"
    Gui.Parent = CoreGui
    Gui.ResetOnSpawn = false
    
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = Gui
    MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    MainFrame.Size = UDim2.new(0, 450, 0, 300)
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    MainFrame.Visible = true
    MainFrame.Active = true
    MainFrame.Draggable = true

    AddCorner(MainFrame, 0, 5)
    
    TopTitle.Name = "TopTitle"
    TopTitle.Parent = MainFrame
    TopTitle.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    TopTitle.Size = UDim2.new(0, 450, 0, 20)
    TopTitle.Font = Enum.Font.SourceSansBold
    TopTitle.Text = " ‚Ä¢ Symphony Hub [BETA]"
    TopTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    TopTitle.TextSize = 20
    TopTitle.TextXAlignment = Enum.TextXAlignment.Left
    
    TabFrame.Name = "TabFrame"
    TabFrame.Parent = MainFrame
    TabFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    TabFrame.Size = UDim2.new(0, 115, 0, 265)
    TabFrame.Position = UDim2.new(0.023, 0, 0.09, 0)
    TabFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y

    AddCorner(TabFrame, 0, 5)

    UIListLayout.Parent = TabFrame
    UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(0.01, 1)
    
    UserInputService.InputBegan:Connect(function(KEY)
        if KEY.KeyCode == Enum.KeyCode.Unknown then return end
        if KEY.KeyCode == key then
            MainFrame.Visible = not MainFrame.Visible
        else
            if keybinds[0]["pressable"] then
                for _ = 1, #keybinds do
                    if keybinds[_].Value == "" then
                        keybinds[_].Value = KEY.KeyCode
                        keybinds[_].Inst.Text = UserInputService:GetStringForKeyCode(KEY.KeyCode)
                        keybinds[0]["pressable"] = false
                    end
                end
            else
                for _ = 1, #keybinds do
                    if keybinds[_].Value == KEY.KeyCode then
                        keybinds[_].Callback()
                    end
                end
            end
        end
    end)
    
    function bn:CreateTab(name)
        local Tab = Instance.new("TextButton")
        local ScrollingFrame = Instance.new("ScrollingFrame")
        local UIListLayout = Instance.new("UIListLayout")
        local Section = Instance.new("TextLabel")
    
        Tab.Name = "Tab_" .. name
        Tab.Parent = TabFrame
        Tab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        Tab.Size = UDim2.new(0, 105, 0, 20)
        Tab.Position = UDim2.new(0.05, 0, TabCount, 0)
        Tab.Font = Enum.Font.SourceSansBold
        Tab.Text = name
        Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
        Tab.TextSize = 16

        AddCorner(Tab, 0, 5)
    
        ScrollingFrame.Name = "Inst"
        ScrollingFrame.Parent = MainFrame
        ScrollingFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        ScrollingFrame.Size = UDim2.new(0, 315, 0, 265)
        ScrollingFrame.Position = UDim2.new(0.29, 0, 0.09, 0)
        ScrollingFrame.ScrollBarThickness = 0
        ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        ScrollingFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        ScrollingFrame.Visible = false

        AddCorner(ScrollingFrame, 0, 5)
    
        UIListLayout.Parent = ScrollingFrame
        UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        UIListLayout.Padding = UDim.new(0.01, 1)
    
        Section.Name = "Section"
        Section.Parent = ScrollingFrame
        Section.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        Section.BackgroundTransparency = 1
        Section.Size = UDim2.new(0, 315, 0, 15)
        Section.Font = Enum.Font.SourceSansBold
        Section.Text = " " .. name .. ":"
        Section.TextColor3 = Color3.fromRGB(255, 255, 255)
        Section.TextSize = 20
        Section.TextXAlignment = Enum.TextXAlignment.Left
    
        local function Click()
            for _ = 1, #TableTab do
                if TableTab[_].Name == name then
                    TableTab[_].Inst.Visible = true
                    game:GetService("TweenService"):Create(TableTab[_].Tab,TweenInfo.new(0.25),{ TextSize = 20 }):Play()
                else
                    TableTab[_].Inst.Visible = false
                    local Info = TweenInfo.new(1)
                    game:GetService("TweenService"):Create(TableTab[_].Tab,TweenInfo.new(0.25),{ TextSize = 16 }):Play()
                end
            end
        end
    
        TabCount = TabCount + 0.1
    
        local count = #TableTab + 1
        TableTab[count] = {}
        TableTab[count].Name = name
        TableTab[count].Tab = Tab
        TableTab[count].Inst = ScrollingFrame
    
        Tab.MouseButton1Click:Connect(Click)
    
        if FirstTab then
            TableTab[count].Inst.Visible = true
            TableTab[count].Tab.TextSize = 20
            FirstTab = false
        else
        end
    
        local Property = {}
    
        function Property:CreateButton(btnName, callback)
            btnName = btnName or "Button"
            callback = callback or function() end
            
            local Button = Instance.new("TextButton")
            
            Button.Name = btnName .. "_Button"
            Button.Parent = ScrollingFrame
            Button.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            Button.Size = UDim2.new(0, 315, 0, 25)
            Button.Font = Enum.Font.SourceSansBold
            Button.Text = "üñ±Ô∏è " .. btnName
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextSize = 20
            Button.MouseButton1Click:Connect(callback)
            
            AddCorner(Button, 0, 5)
        end
    
        function Property:CreateLabel(lbName)
            lbName = lbName or "Label"
            
            local Label = Instance.new("TextLabel")
            local upt = {}
            
            Label.Name = lbName .. "_Label"
            Label.Parent = ScrollingFrame
            Label.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            Label.BackgroundTransparency = 1
            Label.Size = UDim2.new(0, 315, 0, 15)
            Label.Font = Enum.Font.SourceSansBold
            Label.Text = lbName
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextSize = 17
            
            function upt:Update(new)
                Label.Text = new
            end
            return upt
        end
    
        function Property:CreateToggle(tgleName, callback)
            tgleName = tgleName or "Toggle"
            callback = callback or function() end
    
            local Frame = Instance.new("Frame")
            local Label = Instance.new("TextLabel")
            local Toggle = Instance.new("TextButton")
            local toggle = false
            
            Frame.Name = tgleName .. "_Frame"
            Frame.Parent = ScrollingFrame
            Frame.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            Frame.Size = UDim2.new(0, 315, 0, 25)
            
            AddCorner(Frame, 0, 5)
    
            Label.Name = "Title"
            Label.Parent = Frame
            Label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Label.BackgroundTransparency = 1
            Label.Size = UDim2.new(0, 200, 0, 25)
            Label.Font = Enum.Font.SourceSansBold
            Label.Text = " " .. tgleName
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextSize = 20
            Label.TextXAlignment = Enum.TextXAlignment.Left
    
            Toggle.Name = "Toggle"
            Toggle.Parent = Frame
            Toggle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Toggle.BackgroundTransparency = 1
            Toggle.Size = UDim2.new(0, 310, 0, 25)
            Toggle.Font = Enum.Font.SourceSansBold
            Toggle.Text = "üü•"
            Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
            Toggle.TextSize = 20
            Toggle.TextXAlignment = Enum.TextXAlignment.Right
            Toggle.MouseButton1Click:Connect(function()
                toggle = not toggle
                if toggle then
                    Toggle.Text = "üü®"
                    callback(toggle)
                else
                    Toggle.Text = "üü•"
                    callback(toggle)
                end
            end)
        end
    
        function Property:CreateTextbox(tbName, callback)
            tbName = tbName or "Textbox"
            callback = callback or function() end
    
            local Frame = Instance.new("Frame")
            local Label = Instance.new("TextLabel")
            local Textbox = Instance.new("TextBox")
            
            Frame.Name = tbName .. "_Frame"
            Frame.Parent = ScrollingFrame
            Frame.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            Frame.Size = UDim2.new(0, 315, 0, 25)

            AddCorner(Frame, 0, 5)
    
            Label.Name = "Title"
            Label.Parent = Frame
            Label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Label.BackgroundTransparency = 1
            Label.Size = UDim2.new(0, 200, 0, 25)
            Label.Font = Enum.Font.SourceSansBold
            Label.Text = " " .. tbName
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextSize = 20
            Label.TextXAlignment = Enum.TextXAlignment.Left
    
            Textbox.Name = "Textbox"
            Textbox.Parent = Frame
            Textbox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Textbox.BackgroundTransparency = 1
            Textbox.Size = UDim2.new(0, 310, 0, 25)
            Textbox.Font = Enum.Font.SourceSansBold
            Textbox.PlaceholderColor3 = Color3.fromRGB(0, 255, 0)
            Textbox.PlaceholderText = "Input Value"
            Textbox.Text = ""
            Textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
            Textbox.TextSize = 20
            Textbox.TextXAlignment = Enum.TextXAlignment.Right
            Textbox.FocusLost:Connect(function()
                callback(Textbox.Text)
            end)
        end

        function Property:CreateKeybind(tbName, originkey, callback)
            tbName = tbName or "KeyBinds"
            originkey = originkey or ""
            callback = callback or function() end
    
            local Frame = Instance.new("Frame")
            local Label = Instance.new("TextLabel")
            local Textbox = Instance.new("TextButton")
            local P = #keybinds + 1
            
            Frame.Name = tbName .. "_Frame"
            Frame.Parent = ScrollingFrame
            Frame.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            Frame.Size = UDim2.new(0, 315, 0, 25)

            AddCorner(Frame, 0, 5)
    
            Label.Name = "Title"
            Label.Parent = Frame
            Label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Label.BackgroundTransparency = 1
            Label.Size = UDim2.new(0, 200, 0, 25)
            Label.Font = Enum.Font.SourceSansBold
            Label.Text = " " .. tbName
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextSize = 20
            Label.TextXAlignment = Enum.TextXAlignment.Left
    
            Textbox.Name = "Textbox"
            Textbox.Parent = Frame
            Textbox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Textbox.BackgroundTransparency = 1
            Textbox.Size = UDim2.new(0, 310, 0, 25)
            Textbox.Font = Enum.Font.SourceSansBold
            Textbox.Text = UserInputService:GetStringForKeyCode(originkey)
            Textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
            Textbox.TextSize = 20
            Textbox.TextXAlignment = Enum.TextXAlignment.Right
            Textbox.MouseButton1Click:Connect(function()
                if not keybinds["pressable"] then
                    Textbox.Text = "Press Any Key"
                    keybinds[P].Value = ""
                    keybinds[0]["pressable"] = true
                end
            end)
            
            keybinds[P] = {}
            keybinds[P].Value = originkey
            keybinds[P].Callback = callback
            keybinds[P].Inst = Textbox
        end

        function Property:CreateDropdown(lbName, list, callback)
            lbName = lbName or "Label"
            list = list or {}
            callback = callback or function() end
            
            local Label = Instance.new("TextButton")
            local selects = ""
            local upt = {}
            local Instp = {}
            local open = false
            
            Label.Name = lbName .. "_Label"
            Label.Parent = ScrollingFrame
            Label.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            Label.BackgroundTransparency = 1
            Label.Size = UDim2.new(0, 315, 0, 15)
            Label.Font = Enum.Font.SourceSansBold
            Label.Text = "üîª " .. lbName
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextSize = 17
            
            function Toggle()
                open = not open
                for _ = 1, #Instp do
                    if open then
                        Instp[_].Visible = true
                        Label.Text = "üî∫ " .. lbName .. selects
                    else
                        Instp[_].Visible = false
                        Label.Text = "üîª " .. lbName .. selects
                    end
                end
            end
            
            Label.MouseButton1Click:Connect(Toggle)
            
            for _ = 1, #list do
                local Button = Instance.new("TextButton")
                
                Button.Name = list[_] .. "_Button"
                Button.Parent = ScrollingFrame
                Button.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
                Button.Size = UDim2.new(0, 315, 0, 25)
                Button.Font = Enum.Font.SourceSansBold
                Button.Text = "‚û°Ô∏è " .. list[_] .. " ‚¨ÖÔ∏è"
                Button.TextColor3 = Color3.fromRGB(255, 255, 255)
                Button.TextSize = 20
                Button.Visible = false
                Button.MouseButton1Click:Connect(function()
                    selects = " - " .. list[_]
                    Toggle()
                    callback(list[_])
                end)
                Instp[_] = Button
            end
        end
        return Property
    end
    return bn
end

return library

--[[
local HomeTab = CreateTab("Home")

HomeTab:CreateButton("Work?", function()
    print("yess")
end)

HomeTab:CreateLabel("ahahah")

HomeTab:CreateToggle("Yessir", function(Boolean)
    print(Boolean)
end)

HomeTab:CreateTextbox("Yessir", function(Boolean)
    print(Boolean)
end)

local EconomyTab = CreateTab("Economy")]]